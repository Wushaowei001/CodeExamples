<!DOCTYPE html PUBLIC "-//IETF//DTD HTML 2.0//EN">
<HTML>
<HEAD>
<TITLE>ruby/fileNames.rb</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#1F00FF" ALINK="#FF0000" VLINK="#9900DD">
<A NAME="top"> </A>
<A NAME="file1"> </A>
<H1><a href="fileNames.rb">fileNames.rb</a></H1>

<PRE>
<I><FONT COLOR="#B22222">#!/usr/local/bin/ruby
</FONT></I>
<I><FONT COLOR="#B22222">##
</FONT></I><I><FONT COLOR="#B22222"># @file      fileNames.rb
</FONT></I><I><FONT COLOR="#B22222"># @author    Mitch Richling &lt;http://www.mitchr.me/&gt;
</FONT></I><I><FONT COLOR="#B22222"># @Copyright Copyright 2007 by Mitch Richling.  All rights reserved.
</FONT></I><I><FONT COLOR="#B22222"># @brief     Working with file names in Ruby.@EOL
</FONT></I><I><FONT COLOR="#B22222"># @Keywords  ruby examples file names basename dirname extname identical
</FONT></I><I><FONT COLOR="#B22222"># @Std       Ruby 1.8
</FONT></I><I><FONT COLOR="#B22222">#
</FONT></I><I><FONT COLOR="#B22222">#            The File class provides several handy functions for
</FONT></I><I><FONT COLOR="#B22222">#            dealing with file names.  Some of them are simple string
</FONT></I><I><FONT COLOR="#B22222">#            manipulation tools while others answer tough filesystem
</FONT></I><I><FONT COLOR="#B22222">#            questions.
</FONT></I><I><FONT COLOR="#B22222">#
</FONT></I><I><FONT COLOR="#B22222">#            Note this example is a bit UNIX-ey in that we assume that
</FONT></I><I><FONT COLOR="#B22222">#            the path delimiter is the forward slash (/) character...
</FONT></I>

<I><FONT COLOR="#B22222"># Join strings together to form paths.
</FONT></I>puts(<B><FONT COLOR="#BC8F8F">&quot;PATH: #{File.join('foo', 'bar', 'foobar')}&quot;</FONT></B>)
puts(<B><FONT COLOR="#BC8F8F">&quot;PATH: #{File.join('/foo', 'bar', 'foobar')}&quot;</FONT></B>)

puts(<B><FONT COLOR="#BC8F8F">&quot;Parts of '/foo/bar/foobar.rb'&quot;</FONT></B>)
pathPart, filepart = File.split(<B><FONT COLOR="#BC8F8F">&quot;/foo/bar/foobar&quot;</FONT></B>)
puts(<B><FONT COLOR="#BC8F8F">&quot;  PATH PART: #{pathPart}&quot;</FONT></B>)
puts(<B><FONT COLOR="#BC8F8F">&quot;  FILE PART: #{filepart}&quot;</FONT></B>)

puts(<B><FONT COLOR="#BC8F8F">&quot;Parts of '/foo/bar/foobar.rb'&quot;</FONT></B>)
puts(<B><FONT COLOR="#BC8F8F">&quot;  BASENAME (with ext): #{File.basename('/foo/bar/foobar.rb')}&quot;</FONT></B>)
puts(<B><FONT COLOR="#BC8F8F">&quot;  BASENAME (no ext):   #{File.basename('/foo/bar/foobar.rb', '.rb')}&quot;</FONT></B>)
puts(<B><FONT COLOR="#BC8F8F">&quot;  DIRNAME:             #{File.dirname('/foo/bar/foobar.rb')}&quot;</FONT></B>)
puts(<B><FONT COLOR="#BC8F8F">&quot;  EXTNAME:             #{File.extname('/foo/bar/foobar.rb')}&quot;</FONT></B>)

<I><FONT COLOR="#B22222"># The previous tools are simple string manipulation tools; however,
</FONT></I><I><FONT COLOR="#B22222"># the next methods are more sophisticated and deal with real some
</FONT></I><I><FONT COLOR="#B22222"># tricky filesystem issues.
</FONT></I>
<I><FONT COLOR="#B22222"># Expand a path with dots or links:
</FONT></I>puts(<B><FONT COLOR="#BC8F8F">&quot;Fully expanded CWD: '#{File.expand_path('.')}'&quot;</FONT></B>)

<I><FONT COLOR="#B22222"># Do the same but specify the current working directory:
</FONT></I>puts(<B><FONT COLOR="#BC8F8F">&quot;Fully expanded . from /tmp/: '#{File.expand_path('..', '/tmp/')}'&quot;</FONT></B>)

<I><FONT COLOR="#B22222"># Now a magical tool.  File.identical? determines if two files point to
</FONT></I><I><FONT COLOR="#B22222"># the same file (are linked together for example).  On my system,
</FONT></I><I><FONT COLOR="#B22222"># /usr/local/bin/ruby is linked to /opt/local/bin/ruby, but
</FONT></I><I><FONT COLOR="#B22222"># /usr/bin/ruby is the one provided by the OS vendor (Apple).
</FONT></I>puts(<B><FONT COLOR="#BC8F8F">&quot;/usr/local/bin/ruby == /usr/bin/ruby: #{File.identical?('/usr/local/bin/ruby', '/usr/bin/ruby')}&quot;</FONT></B>)
puts(<B><FONT COLOR="#BC8F8F">&quot;/usr/local/bin/ruby == /opt/local/bin/ruby: #{File.identical?('/usr/local/bin/ruby', '/opt/local/bin/ruby')}&quot;</FONT></B>)
</PRE>
<HR \/>
<ADDRESS>Generated by <A HREF="http://www.iki.fi/~mtr/genscript/">GNU Enscript 1.6.5.2</A>.</ADDRESS>
</BODY>
</HTML>
