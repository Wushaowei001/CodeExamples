<!DOCTYPE html PUBLIC "-//IETF//DTD HTML 2.0//EN">
<HTML>
<HEAD>
<TITLE>ruby/processStuff.rb</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#1F00FF" ALINK="#FF0000" VLINK="#9900DD">
<A NAME="top"> </A>
<A NAME="file1"> </A>
<H1><a href="processStuff.rb">processStuff.rb</a></H1>

<PRE>
<I><FONT COLOR="#B22222">#!/usr/local/bin/ruby
</FONT></I>
<I><FONT COLOR="#B22222">##
</FONT></I><I><FONT COLOR="#B22222"># @file      processStuff.rb
</FONT></I><I><FONT COLOR="#B22222"># @author    Mitch Richling &lt;http://www.mitchr.me/&gt;
</FONT></I><I><FONT COLOR="#B22222"># @Copyright Copyright 2007 by Mitch Richling.  All rights reserved.
</FONT></I><I><FONT COLOR="#B22222"># @brief     Simple process stuff like PID.@EOL
</FONT></I><I><FONT COLOR="#B22222"># @Keywords  ruby examples process uid gid groups
</FONT></I><I><FONT COLOR="#B22222"># @Std       Ruby 1.8
</FONT></I><I><FONT COLOR="#B22222">#
</FONT></I><I><FONT COLOR="#B22222">#            Several handy things are in the Process object.  In this
</FONT></I><I><FONT COLOR="#B22222">#            example, we demonstrate the aspects of the Process object
</FONT></I><I><FONT COLOR="#B22222">#            that deal with the current process.  Look at the fork
</FONT></I><I><FONT COLOR="#B22222">#            examples for info about fork, wait*, and detach.  Check
</FONT></I><I><FONT COLOR="#B22222">#            out the signal examples for UNIX signals.
</FONT></I><I><FONT COLOR="#B22222">#            
</FONT></I><I><FONT COLOR="#B22222">#            Some other useful stuff not illustrated:
</FONT></I><I><FONT COLOR="#B22222">#
</FONT></I><I><FONT COLOR="#B22222">#              Exit:            exit, exit!, abort
</FONT></I><I><FONT COLOR="#B22222">#              Set/get nice:    getpriority, setpriority
</FONT></I><I><FONT COLOR="#B22222">#              Get/set ulimits: getrlimit, setrlimit
</FONT></I><I><FONT COLOR="#B22222">#
</FONT></I>
<I><FONT COLOR="#B22222"># Query the current process pid and ppid
</FONT></I>puts(<B><FONT COLOR="#BC8F8F">&quot;My PID:  #{Process.pid}&quot;</FONT></B>)
puts(<B><FONT COLOR="#BC8F8F">&quot;My PPID: #{Process.ppid}&quot;</FONT></B>)

<I><FONT COLOR="#B22222"># Query the current process uid, euid, gid, and egid.  With the
</FONT></I><I><FONT COLOR="#B22222"># appropriate privileges, one can set the uid, gid, euid, and egid
</FONT></I><I><FONT COLOR="#B22222"># with: uid=, gid=, egid=, euid=
</FONT></I>puts(<B><FONT COLOR="#BC8F8F">&quot;My  uid: #{Process.uid}&quot;</FONT></B>)
puts(<B><FONT COLOR="#BC8F8F">&quot;My euid: #{Process.euid}&quot;</FONT></B>)
puts(<B><FONT COLOR="#BC8F8F">&quot;My  gid: #{Process.gid}&quot;</FONT></B>)
puts(<B><FONT COLOR="#BC8F8F">&quot;My egid: #{Process.egid}&quot;</FONT></B>)

<I><FONT COLOR="#B22222"># Supplemental groups may be queried (groups) and set (groups= &amp;
</FONT></I><I><FONT COLOR="#B22222"># initgroups).  The max number of groups can be determined with
</FONT></I><I><FONT COLOR="#B22222"># maxgroups.
</FONT></I>
puts(<B><FONT COLOR="#BC8F8F">&quot;My groups: #{Process.groups.inspect}&quot;</FONT></B>)

<I><FONT COLOR="#B22222"># The process CPU time can be queried (user &amp; system)
</FONT></I>puts(<B><FONT COLOR="#BC8F8F">&quot;Times: #{Process.times.inspect}&quot;</FONT></B>)

</PRE>
<HR \/>
<ADDRESS>Generated by <A HREF="http://www.iki.fi/~mtr/genscript/">GNU Enscript 1.6.5.2</A>.</ADDRESS>
</BODY>
</HTML>
