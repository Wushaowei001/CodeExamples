<!DOCTYPE html PUBLIC "-//IETF//DTD HTML 2.0//EN">
<HTML>
<HEAD>
<TITLE>AUPG/passwd.c</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#1F00FF" ALINK="#FF0000" VLINK="#9900DD">
<A NAME="top"> </A>
<A NAME="file1"> </A>
<H1><a href="passwd.c">passwd.c</a></H1>

<PRE>
<I><FONT COLOR="#B22222">/* -*- Mode:C; Coding:us-ascii-unix; fill-column:132 -*- */</FONT></I>
<I><FONT COLOR="#B22222">/**********************************************************************************************************************************/</FONT></I>
<I><FONT COLOR="#B22222">/**
   @file      passwd.c
   @author    Mitch Richling &lt;http://www.mitchr.me/&gt;
   @Copyright Copyright 1995 by Mitch Richling.  All rights reserved.
   @brief     UNIX password queries@EOL
   @Keywords  UNIX password user uid gid 
   @Std       ISOC POSIX UNIX98 BSD4.3 SYSV3
   @Tested    
              - Solaris 2.8
              - MacOS X.2
              - Linux (RH 7.3)

   This is an example program intended to illustrate how to query most UNIX versions for password information.  This has been tested
   on Solaris, Linux, FreeBSD, and MacOS X.  This will not extract shadow information found in many UNIX versions including Solaris.
***********************************************************************************************************************************/</FONT></I>

#<B><FONT COLOR="#5F9EA0">include</FONT></B> <B><FONT COLOR="#BC8F8F">&lt;pwd.h&gt;</FONT></B>                <I><FONT COLOR="#B22222">/* UNIX passwd     POSIX */</FONT></I>
#<B><FONT COLOR="#5F9EA0">include</FONT></B> <B><FONT COLOR="#BC8F8F">&lt;sys/types.h&gt;</FONT></B>          <I><FONT COLOR="#B22222">/* UNIX types      POSIX */</FONT></I>
#<B><FONT COLOR="#5F9EA0">include</FONT></B> <B><FONT COLOR="#BC8F8F">&lt;stdlib.h&gt;</FONT></B>             <I><FONT COLOR="#B22222">/* Standard Lib    C89   */</FONT></I>
#<B><FONT COLOR="#5F9EA0">include</FONT></B> <B><FONT COLOR="#BC8F8F">&lt;unistd.h&gt;</FONT></B>             <I><FONT COLOR="#B22222">/* UNIX std stf    POSIX */</FONT></I>
#<B><FONT COLOR="#5F9EA0">include</FONT></B> <B><FONT COLOR="#BC8F8F">&lt;stdio.h&gt;</FONT></B>              <I><FONT COLOR="#B22222">/* I/O lib         C89   */</FONT></I>

<I><FONT COLOR="#B22222">/**********************************************************************************************************************************/</FONT></I>
<B><FONT COLOR="#228B22">int</FONT></B> <B><FONT COLOR="#0000FF">main</FONT></B>(<B><FONT COLOR="#228B22">int</FONT></B> argc, <B><FONT COLOR="#228B22">char</FONT></B> *argv[]) {
  <B><FONT COLOR="#228B22">struct</FONT></B> passwd *pwEnt;
  <B><FONT COLOR="#228B22">int</FONT></B> i = 0;

  <B><FONT COLOR="#A020F0">while</FONT></B>(NULL != (pwEnt = getpwent())) {
    i++;
    printf(<B><FONT COLOR="#BC8F8F">&quot;User #%05d: %s:%s:%ld:%ld:%s:%s:%s\n&quot;</FONT></B>, i, pwEnt-&gt;pw_name,
           pwEnt-&gt;pw_passwd, (<B><FONT COLOR="#228B22">long</FONT></B>)pwEnt-&gt;pw_uid, (<B><FONT COLOR="#228B22">long</FONT></B>)pwEnt-&gt;pw_gid, pwEnt-&gt;pw_gecos, pwEnt-&gt;pw_dir, pwEnt-&gt;pw_shell);
  } <I><FONT COLOR="#B22222">/* end while */</FONT></I>

  <B><FONT COLOR="#A020F0">return</FONT></B> 0;
} <I><FONT COLOR="#B22222">/* end func main */</FONT></I>
</PRE>
<HR \/>
<ADDRESS>Generated by <A HREF="http://www.iki.fi/~mtr/genscript/">GNU Enscript 1.6.5.90</A>.</ADDRESS>
</BODY>
</HTML>
