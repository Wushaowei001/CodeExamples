<!DOCTYPE html PUBLIC "-//IETF//DTD HTML 2.0//EN">
<HTML>
<HEAD>
<TITLE>random/clispRandEx.lisp</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#1F00FF" ALINK="#FF0000" VLINK="#9900DD">
<A NAME="top"> </A>
<A NAME="file1"> </A>
<H1><a href="clispRandEx.lisp">clispRandEx.lisp</a></H1>

<PRE>
#!/usr/local/bin/clisp
<I><FONT COLOR="#B22222">;; -*- Mode:Lisp; Syntax:ANSI-Common-LISP; Coding:us-ascii-unix; fill-column:132 -*-
</FONT></I><I><FONT COLOR="#B22222">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
</FONT></I><I><FONT COLOR="#B22222">;;;
</FONT></I><I><FONT COLOR="#B22222">;; @file      clispRandEx.lisp
</FONT></I><I><FONT COLOR="#B22222">;; @author    Mitch Richling &lt;http://www.mitchr.me/&gt;
</FONT></I><I><FONT COLOR="#B22222">;; @Copyright Copyright 2004 by Mitch Richling.  All rights reserved.
</FONT></I><I><FONT COLOR="#B22222">;; @brief     How to use the Common Lisp random number generator.@EOL
</FONT></I><I><FONT COLOR="#B22222">;; @Keywords  none
</FONT></I><I><FONT COLOR="#B22222">;; @Std       Common Lisp
</FONT></I><I><FONT COLOR="#B22222">;;
</FONT></I><I><FONT COLOR="#B22222">;; Like most languages, Common Lisp has a standard random number generator.  Also like most languages, the algorithm is not
</FONT></I><I><FONT COLOR="#B22222">;; specified in the standard, and is not usually of high enough quality to use for simulation work.
</FONT></I>
<I><FONT COLOR="#B22222">;;----------------------------------------------------------------------------------------------------------------------------------
</FONT></I><I><FONT COLOR="#B22222">;; The current random state:
</FONT></I>*random-state*

<I><FONT COLOR="#B22222">;;----------------------------------------------------------------------------------------------------------------------------------
</FONT></I><I><FONT COLOR="#B22222">;; You can tell if things are really a random state this way
</FONT></I>(random-state-p *random-state*)

<I><FONT COLOR="#B22222">;;----------------------------------------------------------------------------------------------------------------------------------
</FONT></I><I><FONT COLOR="#B22222">;; 10 random numbers in U[0,100) using the current random state (*random-state*).  In Common Lisp, the numbers are of the same type
</FONT></I><I><FONT COLOR="#B22222">;; as the argument to random; however, in some versions of lisp only integers are allowed (elisp for example).  Also note that in
</FONT></I><I><FONT COLOR="#B22222">;; elisp the limit is optional, and if omitted any representable integer may be returned.
</FONT></I>(loop for i from 1 to 10 collect (random 100))

<I><FONT COLOR="#B22222">;;----------------------------------------------------------------------------------------------------------------------------------
</FONT></I><I><FONT COLOR="#B22222">;; How about 10 floating point numbers (this won't work with elisp):
</FONT></I>(loop for i from 1 to 10 collect (random 100.0))

<I><FONT COLOR="#B22222">;;----------------------------------------------------------------------------------------------------------------------------------
</FONT></I><I><FONT COLOR="#B22222">;; One can make a new random state (arg 't), copy a state (arg a state), or return the current state (arg is nil or missing) with
</FONT></I><I><FONT COLOR="#B22222">;; make-random-state.  In elisp, this function sets *random-state* as a side effect!  Let's make a new state just for fun:
</FONT></I>(setq aNewRandomState (make-random-state 't))

<I><FONT COLOR="#B22222">;;----------------------------------------------------------------------------------------------------------------------------------
</FONT></I><I><FONT COLOR="#B22222">;; If the argument to make-random-state is a random state, then a copy of the given state will be returned:
</FONT></I>(setq anotherRandomState (make-random-state aNewRandomState))

<I><FONT COLOR="#B22222">;;----------------------------------------------------------------------------------------------------------------------------------
</FONT></I><I><FONT COLOR="#B22222">;; One uses a random state via an optional argument to random.  Note that elisp doesn't support the second argument.
</FONT></I>(loop for i from 1 to 10 collect (random 100 aNewRandomState))

<I><FONT COLOR="#B22222">;;----------------------------------------------------------------------------------------------------------------------------------
</FONT></I><I><FONT COLOR="#B22222">;; We can get the same sequence with the copy of the state we made.  Again, this won't work in elisp.
</FONT></I>(loop for i from 1 to 10 collect (random 100 anotherRandomState))
</PRE>
<HR \/>
<ADDRESS>Generated by <A HREF="http://www.iki.fi/~mtr/genscript/">GNU Enscript 1.6.5.90</A>.</ADDRESS>
</BODY>
</HTML>
